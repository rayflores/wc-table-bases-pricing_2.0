<?php
$example_csv = <<<END
Width,800,900,1000,1100,1200,1300,1400,1500,1600,1700,1800,1900,2000,2100,2200,2300,2400,2500,2600,2700,2800,2900,3000
Drop,,,,,,,,,,,,,,,,,,,,,,,
800,36.43,37.59,38.75,40.08,41.4,42.56,43.72,45.87,48.02,49.68,51.34,53.82,56.3,57.96,59.62,63.76,67.9,70.38,72.86,74.85,76.84,79.82,82.8
900,37.26,38.42,39.58,40.9,42.23,43.06,44.55,46.7,48.85,50.51,52.16,54.65,57.13,58.79,60.44,64.58,68.72,71.21,73.69,75.68,77.67,80.65,83.63
1000,38.09,39.25,40.41,41.73,43.06,43.88,45.37,47.53,49.68,51.34,52.99,55.48,57.96,59.62,61.27,65.41,69.55,72.04,74.52,76.51,78.49,81.48,84.46
1100,38.92,40.08,41.23,42.56,43.88,44.71,46.2,48.36,50.51,52.16,53.82,56.3,58.79,60.44,62.1,66.24,70.38,72.86,75.35,77.34,79.32,82.3,85.28
1200,39.74,40.9,42.06,43.39,44.71,45.54,47.03,49.18,51.34,52.99,54.65,57.13,59.62,61.27,62.93,67.07,71.21,73.69,76.18,78.16,80.15,83.13,86.11
1300,40.57,41.73,42.89,44.22,45.54,46.37,47.86,50.01,52.16,53.82,55.48,57.96,60.44,62.1,63.76,67.9,72.04,74.52,77,78.99,80.98,83.96,86.94
1400,41.4,42.56,43.72,45.04,46.37,47.2,48.69,50.84,52.99,54.65,56.3,58.79,61.27,62.93,64.58,68.72,72.86,75.35,77.83,79.82,81.81,84.79,87.77
1500,42.23,43.39,44.55,45.87,47.2,48.02,49.51,51.67,53.82,55.48,57.13,59.62,62.1,63.76,65.41,69.55,73.69,76.18,78.66,80.65,82.63,85.62,88.6
1600,43.06,44.22,45.37,46.7,48.02,48.85,50.34,52.5,54.65,56.3,57.96,60.44,62.93,64.58,66.24,70.38,74.52,77,79.49,81.48,83.46,86.44,89.42
1700,43.88,45.04,46.2,47.53,48.85,49.68,51.17,53.32,55.48,57.13,58.79,61.27,63.76,65.41,67.07,71.21,75.35,77.83,80.32,82.3,84.29,87.27,90.25
1800,44.71,45.87,47.03,48.36,49.68,50.51,52,54.15,56.3,57.96,59.62,62.1,64.58,66.24,67.9,72.04,76.18,78.66,81.14,83.13,85.12,88.1,91.08
1900,45.54,46.7,47.86,49.18,50.51,51.34,52.83,54.98,57.13,58.79,60.44,62.93,65.41,67.07,68.72,72.86,77,79.49,81.97,83.96,85.95,88.93,91.91
2000,46.37,47.53,48.69,50.01,51.34,52.16,53.65,55.81,57.96,59.62,61.27,63.76,66.24,67.9,69.55,73.69,77.83,80.32,82.8,84.79,86.77,89.76,92.74
2100,47.2,48.36,49.51,50.84,52.16,52.99,54.48,56.64,58.79,60.44,62.1,64.58,67.07,68.72,70.38,74.52,78.66,81.14,83.63,85.62,87.6,90.58,93.56
2200,48.02,49.18,50.34,51.67,52.99,53.82,55.31,57.46,59.62,61.27,62.93,65.41,67.9,69.55,71.21,75.35,79.49,81.97,84.46,86.44,88.43,91.41,94.39
2300,48.85,50.01,51.17,52.5,53.82,54.65,56.14,58.29,60.44,62.1,63.76,66.24,68.72,70.38,72.04,76.18,80.32,82.8,85.28,87.27,89.26,92.24,95.22
2400,49.68,50.84,52,53.32,54.65,55.48,56.97,59.12,61.27,62.93,64.58,67.07,69.55,71.21,72.86,77,81.14,83.63,86.11,88.1,90.09,93.07,96.05
2500,50.51,51.67,52.83,54.15,55.48,56.3,57.79,59.95,62.1,63.76,65.41,67.9,70.38,72.04,73.69,77.83,81.97,84.46,86.94,88.93,90.91,93.9,96.88
2600,51.34,52.5,53.65,54.98,56.3,58.13,58.62,60.78,62.93,64.58,66.24,68.72,71.21,72.86,74.52,78.66,82.8,85.28,87.77,89.76,91.74,94.72,97.7
2700,52.16,53.32,54.48,55.81,58.13,57.96,59.45,61.6,63.76,65.41,67.07,69.55,72.04,73.69,75.35,79.49,83.63,86.11,88.6,90.58,92.57,95.55,98.53
2800,52.99,54.15,55.31,56.64,57.96,58.79,60.28,62.43,64.58,66.24,67.9,70.38,72.86,74.52,76.18,80.32,84.46,86.94,89.42,91.41,93.4,96.38,99.36
2900,53.82,54.98,56.14,57.46,58.79,59.62,61.11,63.26,65.41,67.07,68.72,71.21,73.69,75.35,77,81.14,85.28,87.77,90.25,92.24,94.23,97.21,100.19
3000,54.65,55.81,56.97,58.29,59.62,60.44,61.93,64.09,66.24,67.9,69.55,72.04,74.52,76.18,77.83,81.97,86.11,88.6,91.08,93.07,95.05,98.04,101.02
END;

$rows = explode("\n", $example_csv);
echo render_tabs();
?>
<style type="text/css">
    #csv-example, pre {
        background-color: white;
        border-radius: 1em;
        box-shadow: 0px 0px 6px black;
        color: black;
        margin: auto;
        padding: 1em;
    }

    #csv-example td {
        padding: 0.5em;
    }

    code {
        background: 0;
    }

    pre {
        word-wrap: break-word;
    }
</style>
<div class="woo_product_importer_wrapper wrap">
    <div id="icon-tools" class="icon32"><br /></div>
    <?php echo render_title('Help/Documentation') ?>
    <div class="notice notice-success" style="font-size:15px;text-align: left;">
        <h4>Product categories and variations will only display in Woo Table Based Pricing if you have at least one product added with your desired category/attribute applied. 
            If you cannot see any option to upload a csv for your category or attribute then please double check to make sure you have a product created with those settings.
        </h4>
    </div>
    <h3>CSV example</h3>
    <a href="<?php echo plugin_dir_url(__FILE__) ?>sample.csv">Download</a>
    <div style="clear:both;height:1em"></div>
    <table id="csv-example">
        <?php foreach ($rows as $row): ?>
            <tr>
                <?php
                $columns = explode(',', $row);
                foreach ($columns as $column):
                    ?>
                    <td><?php echo trim($column) ?></td>
                <?php endforeach; ?>
            </tr>
        <?php endforeach; ?>
    </table>

    <button id="view-csv-source">View/Hide source</button>
    <div id="csv-source" style="display:none;">
        <code><pre><?php echo $example_csv ?></pre></code>
    </div>
</div>

<script>
    jQuery(document).ready(function($) {
        $("#view-csv-source").click(function(e) {
            $("#csv-source").toggle();
        });
    });
</script>